function coverflow_show(hash) {

var tObj = this;
this.id = hash['id'];
var playS;

this.start = function() {

tObj.container = $('#'+tObj.id);
tObj.nextBtn = tObj.container.find(".cvf-next");
tObj.prevBtn = tObj.container.find(".cvf-prev");
tObj.listItems = tObj.container.find("ul li");
tObj.first = tObj.container.find("ul li:first");

tObj.last = tObj.container.find("ul li:last");
tObj.controlBtns = tObj.nextBtn.add(tObj.prevBtn);
tObj.activeControls();
tObj.controlBtns.addClass("noselect");


tObj.listItems.hover(function(){
	$(this).stop().animate({opacity: 1},300)
},function(){
	$(this).stop().animate({opacity: 0.5},300)
})

var timer

tObj.container.mouseout(function() {
timer = setTimeout(function() {
	tObj.scrollToAct();
}, 10000)
}).mouseover(function() {
	clearTimeout(timer)
})

setTimeout(function() {
tObj.listItems.animate({opacity: 0.5}, 100);
tObj.scrollToAct();
},3000)


}


this.activeControls = function() {
	tObj.nextBtn.click(function(){
		tObj.forward();
	})
	tObj.prevBtn.click(function(){
		tObj.rewind();
	});
}


this.forward = function() {

var genW = tObj.container.find(".coverflow-wrap").width();
var liW = tObj.listItems.width()
var totalLiW = liW * tObj.listItems.length;
var actPos = tObj.container.find("ul").position().left

var slide;

if ( Math.abs(actPos - genW) >=  totalLiW ) {
	slide = totalLiW - genW
	if (slide > totalLiW - genW) slide = totalLiW - genW
	tObj.container.find("ul").stop().animate({left: -slide});
} else {
	slide = genW - (genW % liW)
	
	if (slide > totalLiW - genW) {
		slide = totalLiW - genW
		tObj.container.find("ul").stop().animate({left: -slide});
	}else{
		tObj.container.find("ul").stop().animate({left: "-="+slide});
	}
}



}


this.rewind = function() {

var genW = tObj.container.find(".coverflow-wrap").width();
var liW = tObj.listItems.width()
var totalLiW = liW * tObj.listItems.length;
var actPos = tObj.container.find("ul").position().left

var slide;

if ( actPos + genW >= 0 ) {
	slide = 0
	if (slide < 0) slide = 0
	tObj.container.find("ul").stop().animate({left: slide});
} else {
	slide = (actPos + genW) - (actPos + genW)%liW
	if (slide < 0) slide = 0
	tObj.container.find("ul").stop().animate({left: -slide});
}

}

this.scrollToAct = function () {

var genW = tObj.container.find(".coverflow-wrap").width();
var liW = tObj.listItems.width()
var totalLiW = liW * tObj.listItems.length;

var active = tObj.container.find("li.cvf-act");

var actPos = tObj.container.find(".cvf-act").position().left

var scroll = actPos - (genW/2 - liW/2);

if  (scroll > totalLiW - genW ) scroll = totalLiW - genW
if  (scroll < 0 ) scroll = 0

tObj.container.find("ul").stop().animate({left: -scroll});

}


$(document).ready(function() {
	tObj.start();
});

}




function slide_show(hash) {

var tObj = this;
this.id = hash['id'];
this.appendTo = hash['append_to'];

var playS;

this.start = function() {

tObj.container = $('#'+tObj.id);
tObj.nextBtn = tObj.container.find(".sc-next");
tObj.prevBtn = tObj.container.find(".sc-prev");
tObj.playBtn = tObj.container.find(".sc-play");
tObj.listItems = tObj.container.find("ul li");
tObj.first = tObj.container.find("ul li:first");
tObj.first.addClass("cs-act");
tObj.last = tObj.container.find("ul li:last");
tObj.controlBtns = tObj.nextBtn.add(tObj.prevBtn);
tObj.activeControls();
tObj.controlBtns.addClass("noselect");

tObj.playBtn.toggle(function() {
		tObj.play();	
	}, function() {
		tObj.pause();
})

if (tObj.appendTo == undefined) {
tObj.container.show();
}else {
tObj.container.appendTo(tObj.appendTo).show();
}

}

this.activeControls = function() {
	tObj.nextBtn.click(function(){
		tObj.pause();
		tObj.goToNext();
	})
	tObj.prevBtn.click(function(){
		tObj.pause();
		tObj.goToPrev();
	});
}

this.goToNext = function() {
	var curItem = tObj.container.find(".cs-act");
	var nextItem;
	if (tObj.last.hasClass("cs-act")) {
		nextItem = tObj.first;
	}else {
		nextItem = curItem.next();
	}
	tObj.passage(curItem,nextItem)
}

this.goToPrev = function() {
	var curItem = tObj.container.find(".cs-act");
	var nextItem;
	if (tObj.first.hasClass("cs-act")) {
		nextItem = tObj.last;
	}else {
		nextItem = curItem.prev();
	}
	tObj.passage(curItem,nextItem);
}

this.passage = function(current, next) {
	tObj.controlBtns.unbind("click")
	next.addClass("cs-next").css({opacity: 1});
	current.stop().animate({opacity: 0},600,function() {
		current.removeClass("cs-act");
		next.removeClass("cs-next").addClass("cs-act");
		tObj.activeControls();
	});
}

this.play = function() {
	tObj.goToNext();
	playS = setInterval(function(){
		tObj.goToNext();
	}, 5000)
	tObj.playBtn.addClass("sc-stop")
}

this.pause = function() {
	clearInterval(playS);
	tObj.playBtn.removeClass("sc-stop")
}

$(document).ready(function() {
	tObj.start();
});

}




function slides_presentation(hash) {
var tObj = this;
this.id = hash['id'];
var playS;

this.start = function() {
	tObj.container = $('#'+tObj.id);
	tObj.navItems = tObj.container.find(".slides-list li");
	tObj.slideItems = tObj.container.find("li.slides-block");
	tObj.actvateBtns();
	tObj.play();
}

this.navItemsW = function() {
  var w=tObj.container.find(".slides-screen").width();
  tObj.slideItems.width(w+4);
}

this.actvateBtns = function() {
	tObj.navItems.click(function() {
		clearInterval(playS);
		if ($(this).hasClass("slide-item-act") == false) {
			tObj.launchGo($(this))
		}
	})
}

this.launchGo = function(jElem) {
		var index = tObj.navItems.index(jElem);
		tObj.container.find(".slide-item-act").removeClass("slide-item-act");
		jElem.addClass("slide-item-act");
		tObj.goTo(index);
}

this.goTo = function(eq) {
	var curItem = tObj.container.find(".sp-block-act");
	var nextItem = tObj.slideItems.filter(":eq("+eq+")");
	tObj.passage(curItem,nextItem)
}

this.play = function() {
	playS = setInterval(function(){
		var act = tObj.container.find(".slide-item-act");
		if (tObj.navItems.index(tObj.container.find(".slide-item-act")) == tObj.navItems.length-1) {
			tObj.launchGo(tObj.navItems.filter(":first"))
		} else {
			tObj.launchGo(tObj.container.find(".slide-item-act").next());
		}
	}, 20000)
}

this.passage = function(current, next) {
	tObj.navItems.unbind("click")
	next.addClass("sp-next").css({opacity: 1});
	current.animate({opacity: 0, left: -600, top: -80},700,function() {
		current.removeClass("sp-block-act").css({left: 0, top: 0});
		next.removeClass("sp-next").addClass("sp-block-act");
		tObj.actvateBtns();
	});
}

$(document).ready(function() {
	tObj.start();
});

}




